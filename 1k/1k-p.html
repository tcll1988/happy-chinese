<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¬¬1èª²ã€€æ–‡æ³•å­¦ç¿’</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://rsms.me/">
    <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
    <style>
        /* Custom styles */
        body {
            /* Japanese Serif Font Stack (MS Mincho first) */
            font-family: 'MS Mincho', 'Hiragino Mincho ProN', 'Yu Mincho', serif;
            background-color: #f0f4f8; /* Light blue-gray background */
            -webkit-font-smoothing: antialiased; /* Smoother font rendering */
            -moz-osx-font-smoothing: grayscale;
        }
        /* Style for hidden sections */
        .grammar-section.hidden {
            display: none;
            opacity: 0;
        }
        /* Style for visible sections with fade-in */
        .grammar-section.visible {
            display: block;
            animation: fadeIn 0.5s ease-in-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Style for clickable sentences */
        .clickable-sentence {
            cursor: pointer;
            color: #2563eb; /* Blue color */
            text-decoration: underline;
            transition: color 0.3s ease;
        }
        .clickable-sentence:hover {
            color: #1d4ed8; /* Darker blue on hover */
        }
        /* Basic button styling */
        .quiz-button {
            padding: 8px 16px;
            border-radius: 8px;
            background-color: #3b82f6; /* Blue button */
            color: white;
            border: none;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.1s ease;
            font-weight: 500;
            margin-top: 10px;
            margin-right: 5px;
            font-family: inherit; /* Inherit body font (Japanese Serif) */
        }
        .quiz-button:hover {
            background-color: #2563eb;
        }
        .quiz-button:active {
             transform: scale(0.98); /* Slight shrink on click */
        }
        .quiz-button-secondary {
            background-color: #6b7280; /* Gray button */
        }
        .quiz-button-secondary:hover {
            background-color: #4b5563;
        }
        /* Quiz input styling */
        .quiz-input { /* Kept for potential future use, but not used in multiple-choice */
            border: 1px solid #d1d5db;
            padding: 6px 10px;
            border-radius: 6px;
            margin: 0 5px;
            min-width: 80px;
            font-family: inherit;
        }
        /* Ensure radio/checkbox labels inherit font */
        label {
             font-family: inherit;
             line-height: 1.6; /* Improve spacing for radio buttons */
             display: inline-block; /* Ensure label aligns with radio */
             margin-left: 4px; /* Space between radio and label text */
        }
        /* Style radio buttons */
        input[type="radio"] {
             margin-right: 5px;
             vertical-align: middle; /* Align radio button with text */
        }
        /* Feedback styling */
        .feedback {
            margin-top: 10px;
            padding: 10px 12px;
            border-radius: 6px;
            font-weight: 500;
            border: 1px solid transparent;
            font-family: inherit; /* Ensure feedback uses Japanese Serif */
        }
        .feedback-correct {
            background-color: #dcfce7; /* Light green */
            color: #166534; /* Dark green */
            border-color: #86efac;
        }
        .feedback-incorrect {
            background-color: #fee2e2; /* Light red */
            color: #991b1b; /* Dark red */
            border-color: #fca5a5;
        }
        /* Add some animation to TOC items */
        #table-of-contents ul li a {
            transition: transform 0.2s ease, background-color 0.2s ease;
            display: block; /* Make the whole area clickable */
            padding: 12px 16px; /* Add padding */
            margin-bottom: 8px; /* Add space between items */
            background-color: #ffffff; /* White background */
            border-radius: 8px; /* Rounded corners */
            box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Subtle shadow */
            font-family: inherit; /* Ensure TOC uses Japanese Serif */
        }
        #table-of-contents ul li a:hover {
            transform: translateX(5px); /* Move slightly on hover */
            background-color: #eff6ff; /* Light blue background on hover */
        }
        /* Container styling */
        .container {
            max-width: 800px; /* Limit width on larger screens */
            margin: 20px auto; /* Center container */
            padding: 20px;
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        /* Header styling */
        h1, h2, h3 {
            color: #1e3a8a; /* Dark blue header */
            font-family: inherit; /* Ensure headers use Japanese Serif */
        }
        h2 {
            border-bottom: 2px solid #93c5fd; /* Light blue underline */
            padding-bottom: 5px;
            margin-top: 20px;
            margin-bottom: 15px;
        }
        /* Explanation box styling */
        .explanation-box {
            background-color: #e0f2fe; /* Very light blue */
            border-left: 4px solid #3b82f6; /* Blue left border */
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        .explanation-box h3 {
            font-weight: 600;
            color: #1e3a8a;
            margin-bottom: 8px;
        }
        /* Example styling */
        .example {
            margin-bottom: 12px;
            padding: 10px;
            background-color: #f9fafb; /* Very light gray */
            border-radius: 6px;
        }
        .example p {
            margin-bottom: 4px;
        }
        /* Chinese Text Font (SimSun first) */
        .chinese-text {
            font-size: 1.1em;
            font-weight: 500;
            font-family: 'SimSun', 'Songti SC', 'Noto Serif SC', serif;
        }
        /* Pinyin Font (Inter Sans-serif) */
        .pinyin-text {
            color: #6b7280; /* Gray for Pinyin */
            font-style: italic;
            font-family: 'Inter', sans-serif;
        }
        /* Japanese Text Font (Inherits from body - Japanese Serif) */
        .japanese-text {
            color: #374151; /* Darker gray for Japanese */
             /* font-family: inherit; /* Already inherited */
        }
        /* Quiz container styling */
        .quiz-section {
            margin-top: 25px;
            padding: 20px;
            background-color: #f3f4f6; /* Light gray background */
            border-radius: 8px;
        }
        .quiz-section h3 {
            font-weight: 600;
            margin-bottom: 15px;
            color: #1f2937; /* Dark gray */
        }
        .question-container { /* Container for the single question */
             min-height: 140px; /* Adjust height to prevent layout jumps */
             margin-bottom: 15px;
        }
        .question {
             padding: 15px;
             background-color: #ffffff;
             border-radius: 6px;
             box-shadow: 0 1px 3px rgba(0,0,0,0.05);
        }
        /* Style for question instructions */
        .question-instruction {
            font-size: 0.9em;
            color: #4b5563; /* Slightly darker gray */
            margin-bottom: 10px;
            font-style: italic;
            font-family: inherit; /* Ensure instructions use Japanese Serif */
        }
        /* Style for multiple choice options */
        .choice-option {
             margin-bottom: 8px; /* Space between options */
        }
        /* Success Animation */
        .success-message {
            padding: 15px;
            margin-top: 15px;
            background-color: #dcfce7;
            color: #166534;
            border: 1px solid #86efac;
            border-radius: 8px;
            text-align: center;
            font-size: 1.2em;
            font-weight: bold;
            animation: successPop 0.6s ease-out forwards;
            transform-origin: center;
            font-family: inherit; /* Ensure success message uses Japanese Serif */
        }
        .success-message.hidden {
            display: none;
            opacity: 0;
            transform: scale(0.5);
        }
        @keyframes successPop {
            0% { opacity: 0; transform: scale(0.5); }
            60% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

    </style>
</head>
<body class="p-4 md:p-8">

    <div class="container">

        <button type="button" onclick="window.location.href='1k.html'" class="nav-button mb-6 mr-0 mt-0">&lt; æˆ»ã‚‹</button>

        
        <h1 class="text-2xl md:text-3xl font-bold mb-6 text-center">ç¬¬ï¼‘èª²ã€€æ–‡æ³•å­¦ç¿’</h1>

        <div id="table-of-contents">
            <h2 class="text-xl font-semibold mb-4">ç›®æ¬¡</h2>
            <ul class="list-none p-0">
                <li><a href="#" onclick="showSection('grammar-1'); return false;" class="text-blue-700 hover:text-blue-900">1. â€œä½ å¥½â€ã¨â€œå†è§â€ã«ã¤ã„ã¦</a></li>
                <li><a href="#" onclick="showSection('grammar-2'); return false;" class="text-blue-700 hover:text-blue-900">2. â€œå§“â€ã¨â€œå«â€ã«ã¤ã„ã¦</a></li>
                <li><a href="#" onclick="showSection('grammar-3'); return false;" class="text-blue-700 hover:text-blue-900">3. â€œæ˜¯â€ã«ã¤ã„ã¦</a></li>
                <li><a href="#" onclick="showSection('grammar-4'); return false;" class="text-blue-700 hover:text-blue-900">4. ä¸­å›½èªã®åŸºæœ¬èªé †</a></li>
            </ul>
        </div>

        <div id="grammar-content" class="mt-8">

            <div id="grammar-1" class="grammar-section hidden">
                <button onclick="showSection('table-of-contents'); return false;" class="quiz-button quiz-button-secondary mb-4">ç›®æ¬¡ã«æˆ»ã‚‹</button>
                <h2 class="text-xl font-semibold">1. â€œä½ å¥½â€ã¨â€œå†è§â€ã«ã¤ã„ã¦</h2>
                <div class="explanation-box">
                    <h3>ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <p><strong>æ„å‘³ï¼š</strong>â€œä½ å¥½â€ï¼ã€Œã“ã‚“ã«ã¡ã¯ï¼ã€ã€â€œå†è§â€ï¼ã€Œã•ã‚ˆã†ãªã‚‰ï¼ã€</p>
                    <p><strong>æ³¨ï¼š</strong>â€œä½ å¥½â€ã¨â€œå†è§â€ã¯éå¸¸ã«ã‚ˆãä½¿ã‚ã‚Œã‚‹åŸºæœ¬çš„ãªæŒ¨æ‹¶ã®è¨€è‘‰ã§ã™ã€‚</p>
                    <p><strong>è£œè¶³ï¼š</strong>â€œæ‚¨â€ï¼ˆnÃ­nï¼‰ã¯â€œä½ â€ã®ä¸å¯§ãªè¨€ã„æ–¹ã§ã€ç›®ä¸Šã®äººã‚„åˆå¯¾é¢ã®äººã«å¯¾ã—ã¦ä½¿ã„ã¾ã™ã€‚</p>
                </div>

                <h3 class="font-semibold mt-4 mb-2">ä¾‹æ–‡ï¼š</h3>
               <div class="example">
                    <p class="chinese-text">
                        Aï¼š<span class="clickable-sentence" data-audio="sound/1k-p-1-1.mp3">ä½ ï¼ˆæ‚¨ï¼‰å¥½ï¼</span>
                        
                    </p>
                    <p class="pinyin-text">A: NÇ(NÃ­n) hÇo! </p>
                    <p class="japanese-text">A: ã“ã‚“ã«ã¡ã¯ï¼ </p>
                </div>   
<div class="example">
                    <p class="chinese-text">
                       
                        Bï¼š<span class="clickable-sentence" data-audio="sound/1k-p-1-2.mp3">ä½ ï¼ˆæ‚¨ï¼‰å¥½ï¼</span>
                    </p>
                    <p class="pinyin-text">A: NÇ(NÃ­n) hÇo!</p>
                    <p class="japanese-text"> B: ã“ã‚“ã«ã¡ã¯ï¼</p>
                </div>
                 <div class="example">
                    <p class="chinese-text">
                        Aï¼š<span class="clickable-sentence" data-audio="sound/1k-p-1-3.mp3">å†è§ï¼</span>
                        
                    </p>
                    <p class="pinyin-text">A: ZÃ ijiÃ n! </p>
                    <p class="japanese-text">A: ã•ã‚ˆã†ãªã‚‰ï¼ </p>
                </div>
<div class="example">
                    <p class="chinese-text">
                        
                        Bï¼š<span class="clickable-sentence" data-audio="sound/1k-p-1-4.mp3">å†è§ï¼</span>
                    </p>
                    <p class="pinyin-text">B: ZÃ ijiÃ n!</p>
                    <p class="japanese-text">B: ã•ã‚ˆã†ãªã‚‰ï¼</p>
                </div>


                <div class="quiz-section">
                    <h3>ãƒŸãƒ‹ç·´ç¿’</h3>
                    <div id="question-container-1" class="question-container"></div>
                    <div id="feedback-1" class="feedback hidden"></div>
                    <div id="success-animation-1" class="success-message hidden">ç´ æ™´ã‚‰ã—ã„ï¼å…¨å•æ­£è§£ï¼ğŸ‰</div>
                    <button id="submit-1" class="quiz-button" onclick="submitQuiz(1)">å›ç­”ã™ã‚‹</button>
                    <button id="retry-1" class="quiz-button quiz-button-secondary hidden" onclick="loadQuiz(1)">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
                </div>
            </div>

            <div id="grammar-2" class="grammar-section hidden">
                <button onclick="showSection('table-of-contents'); return false;" class="quiz-button quiz-button-secondary mb-4">ç›®æ¬¡ã«æˆ»ã‚‹</button>
                <h2 class="text-xl font-semibold">2. â€œå§“â€ã¨â€œå«â€ã«ã¤ã„ã¦</h2>
                 <div class="explanation-box">
                    <h3>ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <p><strong>æ„å‘³ï¼š</strong>â€œå§“â€ (xÃ¬ng) ï¼ æ—¥æœ¬èªã®ã€Œå§“ï¼ˆã›ã„ï¼‰ã€ã€è‹—å­—ã®ã“ã¨ã€‚â€œå«â€ (jiÃ o) ï¼ ã€Œï½ã¨ã„ã†åå‰ã§ã‚ã‚‹ã€ã€‚</p>
                    <p><strong>ä½¿ã„æ–¹ï¼š</strong>è‡ªå·±ç´¹ä»‹ãªã©ã§åå‰ã‚’è¨€ã†æ™‚ã«ä½¿ã„ã¾ã™ã€‚</p>
                    <ul>
                        <li>è‹—å­—ã ã‘ã‚’è¨€ã†å ´åˆï¼šã€Œä¸»èª + å§“ + è‹—å­—ã€ (ä¾‹ï¼šæˆ‘å§“å±±æœ¬ã€‚)</li>
                        <li>ãƒ•ãƒ«ãƒãƒ¼ãƒ ã‚’è¨€ã†å ´åˆï¼šã€Œä¸»èª + å« + ãƒ•ãƒ«ãƒãƒ¼ãƒ ã€ (ä¾‹ï¼šæˆ‘å«å±±æœ¬ä¼˜å­ã€‚)</li>
                        <li>ã€Œå§“ã€ã¨ã€Œå«ã€ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã†ã“ã¨ã‚‚ã§ãã¾ã™ï¼šã€Œä¸»èª + å§“ + è‹—å­—, å« + ãƒ•ãƒ«ãƒãƒ¼ãƒ ã€</li>
                    </ul>
                </div>

                <h3 class="font-semibold mt-4 mb-2">ä¾‹æ–‡ï¼š</h3>
                <div class="example">
                    <p class="chinese-text">Aï¼š<span class="clickable-sentence" data-audio="sound/1k-p-2-1.mp3">æˆ‘å§“å±±æœ¬ï¼Œå«å±±æœ¬ä¼˜å­ã€‚</span></p>
                    <p class="pinyin-text">A: WÇ’ xÃ¬ng ShÄnbÄ›n, jiÃ o ShÄnbÄ›n YÅuzÇ.</p>
                    <p class="japanese-text">A: ç§ã¯ï¼ˆå§“ã¯ï¼‰å±±æœ¬ã§ã€ï¼ˆåå‰ã¯ï¼‰å±±æœ¬å„ªå­ã¨è¨€ã„ã¾ã™ã€‚</p>
                </div>
                <div class="example">
                     <p class="chinese-text">Bï¼š<span class="clickable-sentence" data-audio="sound/1k-p-2-2.mp3">ä½ å¥½ï¼æˆ‘å«ææ˜ã€‚</span></p>
                     <p class="pinyin-text">B: NÇhÇo! WÇ’ jiÃ o LÇ MÃ­ng.</p>
                     <p class="japanese-text">B: ã“ã‚“ã«ã¡ã¯ï¼ç§ã¯ææ˜ã¨è¨€ã„ã¾ã™ã€‚</p>
                </div>

                <div class="quiz-section">
                    <h3>ãƒŸãƒ‹ç·´ç¿’</h3>
                    <div id="question-container-2" class="question-container"></div>
                    <div id="feedback-2" class="feedback hidden"></div>
                    <div id="success-animation-2" class="success-message hidden">ã‚ˆãã§ãã¾ã—ãŸï¼å…¨å•ã‚¯ãƒªã‚¢ï¼ğŸ‘</div>
                    <button id="submit-2" class="quiz-button" onclick="submitQuiz(2)">å›ç­”ã™ã‚‹</button>
                    <button id="retry-2" class="quiz-button quiz-button-secondary hidden" onclick="loadQuiz(2)">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
                </div>
            </div>

            <div id="grammar-3" class="grammar-section hidden">
                <button onclick="showSection('table-of-contents'); return false;" class="quiz-button quiz-button-secondary mb-4">ç›®æ¬¡ã«æˆ»ã‚‹</button>
                <h2 class="text-xl font-semibold">3. â€œæ˜¯â€ã«ã¤ã„ã¦</h2>
                <div class="explanation-box">
                    <h3>ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <p><strong>æ„å‘³ï¼š</strong>â€œæ˜¯â€ (shÃ¬) ï¼ æ—¥æœ¬èªã®ã€Œï½ã¯ï½ã§ã™/ã /ã§ã‚ã‚‹ã€ã«ã‚ãŸã‚‹ã€è‚¯å®šã®åˆ¤æ–­ã‚’è¡¨ã™å‹•è©ã€‚</p>
                    <p><strong>ä½¿ã„æ–¹ï¼š</strong></p>
                    <ul>
                        <li><strong>è‚¯å®šæ–‡ï¼š</strong>ä¸»èª + æ˜¯ + ç›®çš„èªã€‚ã€Œï½ã¯ï½ã§ã‚ã‚‹ã€‚ã€</li>
                        <li><strong>å¦å®šæ–‡ï¼š</strong>ä¸»èª + ä¸æ˜¯ (bÃº shÃ¬) + ç›®çš„èªã€‚ã€Œï½ã¯ï½ã§ã¯ãªã„ã€‚ã€ (â€œä¸â€ã¯å¾Œã‚ãŒå››å£°ã®â€œæ˜¯â€ãªã®ã§äºŒå£°ã®â€œbÃºâ€ã«å¤‰åŒ–ã—ã¾ã™)</li>
                        <li><strong>ç–‘å•æ–‡ (æ˜¯ä¸æ˜¯)ï¼š</strong>ä¸»èª + æ˜¯ä¸æ˜¯ + ç›®çš„èªï¼Ÿã€Œï½ã¯ï½ã§ã‚ã‚‹ã‹ã€‚ã€</li>
                        <li><strong>ç–‘å•æ–‡ (å—)ï¼š</strong>ä¸»èª + æ˜¯ + ç›®çš„èª + å— (ma)ï¼Ÿã€Œï½ã¯ï½ã§ã‚ã‚‹ã‹ã€‚ã€ (â€œå—â€ã¯æ–‡æœ«ã«ç½®ã„ã¦ç–‘å•ã‚’è¡¨ã™åŠ©è©)</li>
                    </ul>
                     <p><strong>æ³¨ï¼š</strong>æ—¥æœ¬èªã®åŠ©è©ã€Œã¯ã€ã®ä½ç½®ã«â€œæ˜¯â€ã‚’ç½®ãã¨è€ƒãˆã‚‹ã¨åˆ†ã‹ã‚Šã‚„ã™ã„å ´åˆãŒå¤šã„ã§ã™ã€‚</p>
                </div>

                <h3 class="font-semibold mt-4 mb-2">ä¾‹æ–‡ï¼š</h3>
                <div class="example">
                    <p class="chinese-text"><span class="clickable-sentence" data-audio="sound/1k-p-3-1.mp3">æˆ‘æ˜¯ç•™å­¦ç”Ÿã€‚</span></p>
                    <p class="pinyin-text">WÇ’ shÃ¬ liÃºxuÃ©shÄ“ng.</p>
                    <p class="japanese-text">ç§ã¯ç•™å­¦ç”Ÿã§ã™ã€‚</p>
                </div>
                <div class="example">
                    <p class="chinese-text"><span class="clickable-sentence" data-audio="sound/1k-p-3-2.mp3">ææ˜ä¸æ˜¯ç•™å­¦ç”Ÿã€‚</span></p>
                    <p class="pinyin-text">LÇ MÃ­ng bÃº shÃ¬ liÃºxuÃ©shÄ“ng.</p>
                    <p class="japanese-text">ææ˜ã•ã‚“ã¯ç•™å­¦ç”Ÿã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
                </div>
                <div class="example">
                    <p class="chinese-text">
                        <span class="clickable-sentence" data-audio="sound/1k-p-3-3.mp3">å±±æœ¬æ˜¯ä¸æ˜¯å¤§å­¦ç”Ÿï¼Ÿ</span> 
                    </p>
                    <p class="pinyin-text">ShÄnbÄ›n shÃ¬ bÃº shÃ¬ dÃ xuÃ©shÄ“ng? </p>
                    <p class="japanese-text">å±±æœ¬ã•ã‚“ã¯å¤§å­¦ç”Ÿã§ã™ã‹ã€‚</p>
                    
                </div>
<div class="example">
                    <p class="chinese-text">
                        <span class="clickable-sentence" data-audio="sound/1k-p-3-4.mp3">å±±æœ¬æ˜¯å¤§å­¦ç”Ÿå—ï¼Ÿ</span> 
                    </p>
                    <p class="pinyin-text">ShÄnbÄ›n shÃ¬ dÃ xuÃ©shÄ“ng ma?</p>
                    <p class="japanese-text">å±±æœ¬ã•ã‚“ã¯å¤§å­¦ç”Ÿã§ã™ã‹ã€‚</p>
                   
                </div>

                <div class="quiz-section">
                    <h3>ãƒŸãƒ‹ç·´ç¿’</h3>
                     <div id="question-container-3" class="question-container"></div>
                    <div id="feedback-3" class="feedback hidden"></div>
                    <div id="success-animation-3" class="success-message hidden">ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆï¼ãŠè¦‹äº‹ï¼ğŸ’¯</div>
                    <button id="submit-3" class="quiz-button" onclick="submitQuiz(3)">å›ç­”ã™ã‚‹</button>
                    <button id="retry-3" class="quiz-button quiz-button-secondary hidden" onclick="loadQuiz(3)">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
                </div>
            </div>

            <div id="grammar-4" class="grammar-section hidden">
                 <button onclick="showSection('table-of-contents'); return false;" class="quiz-button quiz-button-secondary mb-4">ç›®æ¬¡ã«æˆ»ã‚‹</button>
                <h2 class="text-xl font-semibold">4. ä¸­å›½èªã®åŸºæœ¬èªé †</h2>
                <div class="explanation-box">
                    <h3>ãƒã‚¤ãƒ³ãƒˆ</h3>
                    <p>ä¸­å›½èªã®åŸºæœ¬çš„ãªèªé †ã¯ã€è‹±èªã¨åŒã˜ã‚ˆã†ã« **SVO (ä¸»èª + è¿°èª + ç›®çš„èª)** ãŒä¸­å¿ƒã§ã™ã€‚</p>
                    <ul>
                        <li><strong>è‚¯å®šæ–‡ï¼š</strong>ä¸»èª + è¿°èª(å‹•è©) + ç›®çš„èªã€‚</li>
                        <li><strong>å¦å®šæ–‡ï¼š</strong>ä¸»èª + ä¸ + è¿°èª(å‹•è©) + ç›®çš„èªã€‚ (å¦å®šã®å‰¯è©â€œä¸â€ã‚’å‹•è©ã®å‰ã«ç½®ã)</li>
                        <li><strong>ç–‘å•æ–‡ (åå¾©ç–‘å•æ–‡)ï¼š</strong>ä¸»èª + è¿°èª(å‹•è©) + ä¸ + è¿°èª(å‹•è©) + ç›®çš„èªï¼Ÿ (å‹•è©ã‚’è‚¯å®šå½¢ã¨å¦å®šå½¢ã‚’ç¹°ã‚Šè¿”ã™)</li>
                        <li><strong>ç–‘å•æ–‡ (å—ç–‘å•æ–‡)ï¼š</strong>ä¸»èª + è¿°èª(å‹•è©) + ç›®çš„èª + å—ï¼Ÿ (æ–‡æœ«ã«â€œå—â€ã‚’ç½®ã)</li>
                    </ul>
                     <p><strong>æ³¨ï¼š</strong>æ—¥æœ¬èªã®ã‚ˆã†ã«åŠ©è©ã‚’ä½¿ã£ã¦èªé †ã‚’è‡ªç”±ã«å¤‰ãˆã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ã€‚</p>
                </div>

                <h3 class="font-semibold mt-4 mb-2">ä¾‹æ–‡ï¼š</h3>
                 <div class="example">
                    <p class="chinese-text"><span class="clickable-sentence" data-audio="sound/1k-p-4-1.mp3">æˆ‘å­¦ä¹ æ—¥æ–‡ã€‚</span></p>
                    <p class="pinyin-text">WÇ’ xuÃ©xÃ­ RÃ¬wÃ©n.</p>
                    <p class="japanese-text">ç§ã¯æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã™ã€‚</p>
                </div>
                 <div class="example">
                    <p class="chinese-text"><span class="clickable-sentence" data-audio="sound/1k-p-4-2.mp3">ä¼˜å­ä¸å­¦ä¹ æ—¥æ–‡ã€‚</span></p>
                    <p class="pinyin-text">YÅuzÇ bÃ¹ xuÃ©xÃ­ RÃ¬wÃ©n.</p>
                    <p class="japanese-text">å„ªå­ã•ã‚“ã¯æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã›ã‚“ã€‚</p>
                </div>
                 <div class="example">
                     <p class="chinese-text">
                        <span class="clickable-sentence" data-audio="sound/1k-p-4-3.mp3">ä½ å­¦ä¹ ä¸å­¦ä¹ ä¸­æ–‡ï¼Ÿ</span> 
                    </p>
                    <p class="pinyin-text">NÇ xuÃ©xÃ­ bÃ¹ xuÃ©xÃ­ ZhÅngwÃ©n?</p>
                    <p class="japanese-text">ã‚ãªãŸã¯ä¸­å›½èªã‚’å‹‰å¼·ã—ã¾ã™ã‹ã€‚</p>
                                    </div>

   <div class="example">
                     <p class="chinese-text">
                        <span class="clickable-sentence" data-audio="sound/1k-p-4-4.mp3">ä½ å­¦ä¹ ä¸­æ–‡å—ï¼Ÿ</span> 
                    </p>
                    <p class="pinyin-text">NÇ xuÃ©xÃ­ ZhÅngwÃ©n ma?</p>
                    <p class="japanese-text">ã‚ãªãŸã¯ä¸­å›½èªã‚’å‹‰å¼·ã—ã¾ã™ã‹ã€‚</p>
                    
                </div>

                <div class="quiz-section">
                    <h3>ãƒŸãƒ‹ç·´ç¿’</h3>
                    <div id="question-container-4" class="question-container"></div>
                    <div id="feedback-4" class="feedback hidden"></div>
                    <div id="success-animation-4" class="success-message hidden">ã‚„ã£ãŸã­ï¼ãƒã‚¹ã‚¿ãƒ¼ã—ãŸï¼âœ¨</div>
                    <button id="submit-4" class="quiz-button" onclick="submitQuiz(4)">å›ç­”ã™ã‚‹</button>
                    <button id="retry-4" class="quiz-button quiz-button-secondary hidden" onclick="loadQuiz(4)">ã‚‚ã†ä¸€åº¦æŒ‘æˆ¦</button>
                </div>
            </div>

        </div>

        <audio id="audio-player" style="display: none;"></audio>

    </div>

    <script>
        // --- State Variables ---
        let currentQuizState = {}; // Stores state for each quiz section

        // --- Quiz Data (UPDATED TO MULTIPLE CHOICE) ---
        const quizData = {
            1: [ // â€œä½ å¥½â€ã¨â€œå†è§â€
                { type: 'multiple-choice', question: 'A: (______)ï¼ B: ä½ å¥½ï¼<br>æ‹¬å¼§ã«é©åˆ‡ãªæŒ¨æ‹¶ã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['ä½ å¥½', 'å†è§', 'æ‚¨'], answer: 'ä½ å¥½' },
                { type: 'multiple-choice', question: 'A: å†è§ï¼ B: (______)ï¼<br>æ‹¬å¼§ã«é©åˆ‡ãªæŒ¨æ‹¶ã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['å†è§', 'ä½ å¥½', 'æ‚¨'], answer: 'å†è§' },
                { type: 'multiple-choice', question: 'æŒ¨æ‹¶ã€Œã“ã‚“ã«ã¡ã¯ï¼ã€ã¯ä¸­å›½èªã§ï¼Ÿ', options: ['ä½ å¥½', 'å†è§', 'å¥½æ‚¨'], answer: 'ä½ å¥½' }, // æ‚¨å¥½ is also correct but ä½ å¥½ is the base
                { type: 'multiple-choice', question: 'æŒ¨æ‹¶ã€Œã•ã‚ˆã†ãªã‚‰ï¼ã€ã¯ä¸­å›½èªã§ï¼Ÿ', options: ['å†è§', 'ä½ å¥½', 'æ‚¨'], answer: 'å†è§' },
            ],
            2: [ // â€œå§“â€ã¨â€œå«â€
                { type: 'multiple-choice', question: 'æˆ‘ (______) å±±æœ¬ï¼Œå«å±±æœ¬ä¼˜å­ã€‚<br>æ‹¬å¼§ã«é©åˆ‡ãªå˜èªã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['å§“', 'å«', 'æ˜¯'], answer: 'å§“' },
                { type: 'multiple-choice', question: 'ä½ å¥½ï¼æˆ‘ (______) ææ˜ã€‚<br>æ‹¬å¼§ã«é©åˆ‡ãªå˜èªã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['å«', 'å§“', 'æ˜¯ä¸'], answer: 'å«' },
                { type: 'multiple-choice', question: 'ã€Œç§ã¯ï¼ˆåå‰ã¯ï¼‰ææ˜ã¨è¨€ã„ã¾ã™ã€‚ã€ã®æ­£ã—ã„ä¸­å›½èªã¯ï¼Ÿ', options: ['æˆ‘å«ææ˜', 'æˆ‘å§“ææ˜', 'æˆ‘æ˜¯ææ˜'], answer: 'æˆ‘å«ææ˜' },
                { type: 'multiple-choice', question: 'ã€Œç§ã¯ï¼ˆå§“ã¯ï¼‰å±±æœ¬ã§ã™ã€‚ã€ã®æ­£ã—ã„ä¸­å›½èªã¯ï¼Ÿ', options: ['æˆ‘å§“å±±æœ¬', 'æˆ‘å«å±±æœ¬', 'æˆ‘æ˜¯å±±æœ¬'], answer: 'æˆ‘å§“å±±æœ¬' }
            ],
            3: [ // â€œæ˜¯â€
                { type: 'multiple-choice', question: 'æˆ‘ (______) ç•™å­¦ç”Ÿã€‚<br>æ‹¬å¼§ã«é©åˆ‡ãªå˜èªã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['æ˜¯', 'æ˜¯ä¸', 'å—'], answer: 'æ˜¯' },
                { type: 'multiple-choice', question: 'ææ˜ (______) ç•™å­¦ç”Ÿã€‚<br>æ‹¬å¼§ã«é©åˆ‡ãªå˜èªã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['ä¸æ˜¯', 'æ˜¯ä¸', 'æ˜¯ä¸æ˜¯'], answer: 'ä¸æ˜¯' },
                { type: 'multiple-choice', question: 'ã€Œå±±æœ¬ã•ã‚“ã¯å¤§å­¦ç”Ÿã§ã™ã‹ã€‚ã€æ­£ã—ã„ç–‘å•æ–‡ã¯ï¼Ÿ', options: ['å±±æœ¬æ˜¯ä¸æ˜¯å¤§å­¦ç”Ÿï¼Ÿ', 'å±±æœ¬æ˜¯å¤§å­¦ç”Ÿä¸ï¼Ÿ', 'å±±æœ¬æ˜¯å—å¤§å­¦ç”Ÿï¼Ÿ'], answer: 'å±±æœ¬æ˜¯ä¸æ˜¯å¤§å­¦ç”Ÿï¼Ÿ' },
                { type: 'multiple-choice', question: 'ã€Œç§ã¯ç•™å­¦ç”Ÿã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã€ã®æ­£ã—ã„ä¸­å›½èªã¯ï¼Ÿ', options: ['æˆ‘ä¸æ˜¯ç•™å­¦ç”Ÿã€‚', 'æˆ‘æ˜¯ä¸ç•™å­¦ç”Ÿã€‚', 'æˆ‘ä¸ç•™å­¦ç”Ÿã€‚'], answer: 'æˆ‘ä¸æ˜¯ç•™å­¦ç”Ÿã€‚' }
            ],
             4: [ // åŸºæœ¬èªé †
                { type: 'multiple-choice', question: 'æˆ‘ (______) æ—¥æ–‡ã€‚<br>æ‹¬å¼§ã«é©åˆ‡ãªå‹•è©ã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['å­¦ä¹ ', 'æ˜¯', 'å«'], answer: 'å­¦ä¹ ' },
                { type: 'multiple-choice', question: 'ä¼˜å­ (______) å­¦ä¹ æ—¥æ–‡ã€‚<br>æ‹¬å¼§ã«é©åˆ‡ãªå¦å®šè©ã‚’å…¥ã‚Œã¦ãã ã•ã„ï¼š', options: ['ä¸', 'ä¸æ˜¯', 'å—'], answer: 'ä¸' },
                 // Replaced scramble with meaning choice based on examples
                { type: 'multiple-choice', question: 'ã€Œç§ã¯æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¾ã™ã€‚ã€ã®æ­£ã—ã„ä¸­å›½èªã¯ï¼Ÿ', options: ['æˆ‘å­¦ä¹ æ—¥æ–‡ã€‚', 'ä¼˜å­ä¸å­¦ä¹ æ—¥æ–‡ã€‚', 'ä½ å­¦ä¹ ä¸­æ–‡å—ï¼Ÿ'], answer: 'æˆ‘å­¦ä¹ æ—¥æ–‡ã€‚' },
                { type: 'multiple-choice', question: 'ã€Œã‚ãªãŸã¯ä¸­å›½èªã‚’å‹‰å¼·ã—ã¾ã™ã‹ã€‚ã€ã®æ­£ã—ã„ä¸­å›½èªã¯ï¼Ÿ', options: ['ä½ å­¦ä¹ ä¸­æ–‡å—ï¼Ÿ', 'æˆ‘å­¦ä¹ æ—¥æ–‡ã€‚', 'ä¼˜å­ä¸å­¦ä¹ æ—¥æ–‡ã€‚'], answer: 'ä½ å­¦ä¹ ä¸­æ–‡å—ï¼Ÿ' } // Using the 'å—' version from example
            ]
        };

        // --- DOM Elements ---
        const toc = document.getElementById('table-of-contents');
        const grammarSections = document.querySelectorAll('.grammar-section');
        const audioPlayer = document.getElementById('audio-player');

        // --- Functions ---

        // Function to show a specific section and hide others
        function showSection(sectionId) {
            if (sectionId !== 'table-of-contents') {
                toc.style.display = 'none';
            } else {
                 toc.style.display = 'block';
            }

            grammarSections.forEach(section => {
                if (section.id === sectionId) {
                    section.classList.remove('hidden');
                    section.classList.add('visible');
                    const grammarIndex = parseInt(sectionId.split('-')[1]);
                    if (!isNaN(grammarIndex) && grammarIndex > 0) {
                         loadQuiz(grammarIndex); // Load quiz when section becomes visible
                    }
                } else {
                    section.classList.add('hidden');
                    section.classList.remove('visible');
                }
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Function to play audio
        function playAudio(audioSrc) {
            if (!audioSrc) return;
            audioPlayer.src = audioSrc;
            audioPlayer.play().catch(error => {
                console.error("éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã®å†ç”Ÿã«å¤±æ•—ã—ã¾ã—ãŸ:", error);
                alert(`éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ« (${audioSrc}) ãŒè¦‹ã¤ã‹ã‚‰ãªã„ã‹ã€å†ç”Ÿã§ãã¾ã›ã‚“ã§ã—ãŸã€‚`);
            });
        }

        // Function to shuffle an array (Fisher-Yates algorithm)
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // Function to load/reset a quiz section
        function loadQuiz(grammarIndex) {
            const feedbackContainer = document.getElementById(`feedback-${grammarIndex}`);
            const submitButton = document.getElementById(`submit-${grammarIndex}`);
            const retryButton = document.getElementById(`retry-${grammarIndex}`);
            const successAnimation = document.getElementById(`success-animation-${grammarIndex}`);

            if (!quizData[grammarIndex]) return;

            // Get all questions, shuffle, and select 2
            const allQuestions = shuffleArray([...quizData[grammarIndex]]);
            const selectedQuestions = allQuestions.slice(0, 2);

            // Initialize state for this quiz section
            currentQuizState[grammarIndex] = {
                questions: selectedQuestions,
                correctAnswers: selectedQuestions.map(q => q.answer),
                currentQuestionIndex: 0, // Start with the first question
                totalQuestions: selectedQuestions.length,
                completed: false
            };

            // Hide feedback, success message, and retry button; show submit button
            feedbackContainer.innerHTML = '';
            feedbackContainer.classList.add('hidden');
            successAnimation.classList.add('hidden'); // Hide success animation
            submitButton.classList.remove('hidden');
            retryButton.classList.add('hidden');

            // Display the first question
            displayQuestion(grammarIndex, 0);
        }

        // Function to display a specific question (Now only handles multiple-choice)
        function displayQuestion(grammarIndex, questionIndex) {
            const questionContainer = document.getElementById(`question-container-${grammarIndex}`);
            const state = currentQuizState[grammarIndex];

            if (!questionContainer || !state || questionIndex >= state.totalQuestions) {
                console.error("Error displaying question for index:", grammarIndex, questionIndex);
                return;
            }

            const q = state.questions[questionIndex];
            // Ensure the question is multiple-choice type
            if (q.type !== 'multiple-choice') {
                 console.error("Error: Question type is not multiple-choice.", q);
                 questionContainer.innerHTML = '<p class="text-red-600">ã‚¨ãƒ©ãƒ¼ï¼šå•é¡Œå½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚</p>';
                 return;
            }

            let quizHtml = `<div class="question">`;
            quizHtml += `<p class="font-medium mb-1">è³ªå• ${questionIndex + 1} / ${state.totalQuestions}:</p>`;

            // Instruction text for multiple choice
            const instructionText = 'æ­£ã—ã„é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚';
            quizHtml += `<p class="question-instruction">${instructionText}</p>`;

            // Display the question prompt
            quizHtml += `<p class="mb-3">${q.question}</p>`; // Use mb-3 for spacing before options

            // Display options (shuffled)
            const shuffledOptions = shuffleArray([...q.options]);
            shuffledOptions.forEach((option, optionIndex) => {
                // Apply Chinese font to options if they contain Chinese characters
                const isChineseOption = /[\u4e00-\u9faf]/.test(option); // Basic check for CJK characters
                const optionClass = isChineseOption ? 'chinese-text' : '';
                quizHtml += `<div class="choice-option ml-2">
                                <input type="radio" id="q-${grammarIndex}-${questionIndex}-${optionIndex}" name="q-${grammarIndex}-${questionIndex}" value="${option}" data-question-index="${questionIndex}">
                                <label for="q-${grammarIndex}-${questionIndex}-${optionIndex}" class="${optionClass}">${option}</label>
                             </div>`;
            });

            quizHtml += `</div>`; // Close question div
            questionContainer.innerHTML = quizHtml;

            // Clear feedback when displaying a new question
            const feedbackContainer = document.getElementById(`feedback-${grammarIndex}`);
            feedbackContainer.innerHTML = '';
            feedbackContainer.classList.add('hidden');
        }


        // Function to submit the answer for the current question
        function submitQuiz(grammarIndex) {
            const state = currentQuizState[grammarIndex];
            if (!state || state.completed) return; // Don't process if already completed

            const currentQuestionIndex = state.currentQuestionIndex;
            const q = state.questions[currentQuestionIndex];
            const feedbackContainer = document.getElementById(`feedback-${grammarIndex}`);
            const submitButton = document.getElementById(`submit-${grammarIndex}`);
            const retryButton = document.getElementById(`retry-${grammarIndex}`);
            const successAnimation = document.getElementById(`success-animation-${grammarIndex}`);

            // Get user's answer (Only multiple choice now)
            const checkedRadio = document.querySelector(`input[name="q-${grammarIndex}-${currentQuestionIndex}"]:checked`);
            const userAnswer = checkedRadio ? checkedRadio.value : '';


             // Check if an answer was provided
            if (!userAnswer) {
                 feedbackContainer.innerHTML = `<span class="font-semibold">é¸æŠè‚¢ã‚’é¸ã‚“ã§ãã ã•ã„ã€‚</span>`;
                 feedbackContainer.classList.remove('hidden', 'feedback-correct');
                 feedbackContainer.classList.add('feedback-incorrect');
                 return; // Stop processing if no choice made
            }

            // Check answer (case-insensitive comparison just in case, though less relevant for MC)
            const isCorrect = userAnswer.toLowerCase() === q.answer.toLowerCase();

            // Provide feedback
            feedbackContainer.classList.remove('hidden', 'feedback-correct', 'feedback-incorrect');
            if (isCorrect) {
                feedbackContainer.innerHTML = `<span class="font-semibold">æ­£è§£ï¼</span> ğŸ‘`;
                feedbackContainer.classList.add('feedback-correct');

                // Move to the next question or finish
                state.currentQuestionIndex++;
                if (state.currentQuestionIndex < state.totalQuestions) {
                     // Display next question after a short delay
                     setTimeout(() => {
                        displayQuestion(grammarIndex, state.currentQuestionIndex);
                        feedbackContainer.classList.add('hidden'); // Hide feedback for next question
                     }, 1000); // 1 second delay
                } else {
                    // All questions answered correctly
                    state.completed = true;
                    feedbackContainer.innerHTML = ''; // Clear last correct feedback
                    feedbackContainer.classList.add('hidden');
                    successAnimation.classList.remove('hidden'); // Show success animation
                    submitButton.classList.add('hidden'); // Hide submit button
                    retryButton.classList.remove('hidden'); // Show retry button
                }
            } else {
                // Incorrect answer
                 // Apply Chinese font to correct answer if needed
                const correctAnswerClass = /[\u4e00-\u9faf]/.test(q.answer) ? 'chinese-text' : '';
                feedbackContainer.innerHTML = `<span class="font-semibold">ä¸æ­£è§£...</span> æ­£è§£ã¯: <strong class="${correctAnswerClass}">${q.answer}</strong><br>ã‚‚ã†ä¸€åº¦é¸æŠã—ã¦ã€Œå›ç­”ã™ã‚‹ã€ã‚’æŠ¼ã—ã¦ãã ã•ã„ã€‚`;
                feedbackContainer.classList.add('feedback-incorrect');
                // Keep the same question displayed, user can try again by clicking submit
            }
        }

        // --- Event Listeners ---
        document.addEventListener('click', function(event) {
            if (event.target.classList.contains('clickable-sentence')) {
                const audioSrc = event.target.getAttribute('data-audio');
                playAudio(audioSrc);
            }
        });

        // --- Initial Setup ---
        document.addEventListener('DOMContentLoaded', () => {
           showSection('table-of-contents');
        });

    </script>

</body>
</html>
```